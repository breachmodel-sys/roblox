<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>cloudsec</title>

<style>
:root{
  --bg:#000;
  --muted:#9aa3ad;
  --accent1:#00d4ff;
  --accent2:#6bffb8;
  --glow1:rgba(0,212,255,0.7);
  --glow2:rgba(107,255,184,0.7);
}
html,body{ margin:0; height:100%; font-family:Inter, sans-serif; background:linear-gradient(180deg,var(--bg) 0%,#050505 100%); color:#fff; }
.navbar{ display:flex;align-items:center;gap:20px; padding:20px 30px;background:rgba(0,0,0,0.5); border-bottom:1px solid rgba(255,255,255,0.05); backdrop-filter:blur(8px);}
.logo{display:flex;align-items:center;gap:13px;} 
.brand-name{ font-size:22px; font-weight:700; background:linear-gradient(90deg,var(--accent1),var(--accent2)); -webkit-background-clip:text;color:transparent; text-shadow:0 0 5px var(--glow1),0 0 15px var(--glow2);}
.tabs{ display:flex; gap:30px; margin-left:30px; margin-top:6px;}
.tab{ cursor:pointer; color:var(--muted); font-weight:500; transition:0.2s; position: relative; padding-bottom: 4px;}
.tab.active{color:#fff;}
.tab.active::after{ content:""; position:absolute; bottom:0; left:0; width:100%; height:3px; border-radius:4px; background:linear-gradient(90deg,var(--accent1),var(--accent2)); box-shadow:0 0 6px var(--glow1),0 0 12px var(--glow2);}
.search-container{display:flex;align-items:center;margin-left:auto;gap:20px;}
.search-button { display:none; }
.auth-buttons button{ background:none;border:none;color:var(--muted); padding:4px 12px;border-radius:6px;font-size:12px; font-weight:700;cursor:pointer;transition:0.3s;text-transform:uppercase;}
.auth-buttons button:hover{ color:transparent;background-clip:text; -webkit-background-clip:text; background-image:linear-gradient(90deg,var(--accent1),var(--accent2)); text-shadow:0 0 5px var(--glow1),0 0 15px var(--glow2);}

.user-display{ font-weight:700; background:linear-gradient(90deg,var(--accent1),var(--accent2)); -webkit-background-clip:text; color:transparent; text-shadow:0 0 5px var(--glow1),0 0 15px var(--glow2); margin-right:10px;}
.logout-btn{ background:linear-gradient(90deg,var(--accent1),var(--accent2)); border:none; padding:4px 8px; border-radius:6px; color:#000; font-weight:700; cursor:pointer;}
.logout-btn:hover{ filter:brightness(1.1);}
.main-content{padding:40px; display:flex; flex-direction:column; align-items:center; justify-content:center; min-height:calc(100vh - 80px);}
.tab-content{display:block;background:none;border:none;padding:2rem; width:100%; max-width:600px; display:flex; flex-direction:column; align-items:center; justify-content:center;}
.hidden{display:none;}
.modal-bg{ position:fixed;inset:0;background:rgba(0,0,0,0.7); backdrop-filter:blur(3px);display:none;justify-content:center;align-items:center; z-index:999;}
.modal{ background:#0a0a0a;padding:25px;width:340px;border-radius:12px; box-shadow:0 0 15px rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.08); animation:fadeIn 0.3s ease; position:relative;}
@keyframes fadeIn{from{opacity:0;transform:scale(0.95);}to{opacity:1;transform:scale(1);} }
.modal h2{text-align:center;background:linear-gradient(90deg,var(--accent1),var(--accent2));-webkit-background-clip:text;color:transparent;}
.input-group{ margin-top:18px; display:flex;align-items:center; background:#0f0f0f; padding:12px 14px; border-radius:10px; border:1px solid rgba(255,255,255,0.15); gap:12px; transition:0.25s;}
.input-group svg{ width:22px;height:22px;fill:none;stroke:var(--accent1);stroke-width:2; filter:drop-shadow(0 0 4px var(--glow1));}
.input-group input{ background:none;border:none;outline:none;width:100%;color:white;font-size:15px;}
.input-group:hover{border-color:var(--accent1);box-shadow:0 0 10px var(--glow1);}
.submit-btn{ width:100%;margin-top:20px;padding:10px;border:none;border-radius:8px; font-size:15px;font-weight:700;cursor:pointer; background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#000; transition:0.2s;}
.submit-btn:hover{filter:brightness(1.1);}
#popupModal{ display:none; position:fixed; inset:0; z-index:1000; justify-content:center;align-items:center; background:rgba(0,0,0,0.6);}
#popupModal .modal{ width:300px; text-align:center;}
#popupModal .modal button{ margin-top:15px; padding:8px 12px; font-weight:700; border:none; border-radius:6px; cursor:pointer; background:linear-gradient(90deg,var(--accent1),var(--accent2)); color:#000;}
#popupModal .modal button:hover{ filter:brightness(1.1);}

.close-modal {
  position: absolute;
  top: 10px;
  right: 12px;
  background: none;
  border: none;
  font-size: 20px;
  font-weight: bold;
  color: var(--muted);
  cursor: pointer;
  transition: 0.2s;
}
.close-modal:hover {
  color: var(--accent1);
  filter: drop-shadow(0 0 6px var(--glow1));
}

#searchResult{
  margin-top:20px;
  color:#fff;
  text-align:center;
  background:rgba(255,255,255,0.05);
  padding:15px 20px;
  border-radius:12px;
  box-shadow:0 0 10px rgba(0,212,255,0.3);
  width:100%;
  max-width:400px;
  font-size:16px;
  font-weight:500;
}
</style>
</head>

<body>

<!-- NAVBAR -->
<div class="navbar">
  <div class="logo">
    <svg width="38" height="38" viewBox="0 0 64 64">
      <defs>
        <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0" stop-color="var(--accent1)"/>
          <stop offset="1" stop-color="var(--accent2)"/>
        </linearGradient>
      </defs>
      <g fill="none" stroke="url(#g)" stroke-width="4" stroke-linecap="round" stroke-linejoin="round">
        <path d="M32 4 L54 14 V30 C54 46 42 56 32 60 C22 56 10 46 10 30 V14 Z" />
        <rect x="22" y="26" width="20" height="18" rx="4" stroke-width="3"/>
        <path d="M26 26 V20 A6 6 0 0 1 38 20 V26" stroke-width="3"/>
        <circle cx="32" cy="35" r="3" stroke-width="3"/>
      </g>
    </svg>
    <span class="brand-name">cloudsec</span>
  </div>

  <div class="tabs">
    <div class="tab active" data-tab="home">Home</div>
    <div class="tab" data-tab="api">API</div>
    <div class="tab" data-tab="pricing">Pricing</div>
  </div>

  <div class="search-container">
    <div class="auth-buttons">
      <button id="openRegister">Register</button>
      <button id="openLogin">Login</button>
    </div>
    <span class="user-display" id="userDisplay" style="display:none; margin-left:20px;"></span>
    <button class="logout-btn" id="logoutBtn" style="display:none; margin-left:10px;">Logout</button>
  </div>
</div>

<div id="home" class="tab-content">
  <div style="
    display: flex;
    max-width: 600px;
    width: 55%;
    gap: 10px;
    padding: 12px 15px;
    background: linear-gradient(180deg, var(--bg) 0%, #050505 100%);
    border-radius: 12px;
    align-items: center;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    box-shadow: 0 0 10px rgba(0, 212, 255, 0.2);
  ">
    <div style="
      display: flex;
      align-items: center;
      gap: 10px;
      flex: 1;
      background-color: var(--bg);
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.08);
    ">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" 
           style="width:20px; height:20px; fill:none; stroke:var(--accent1); stroke-width:2; filter:drop-shadow(0 0 4px var(--glow1));">
        <circle cx="11" cy="11" r="8"></circle>
        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
      <input type="text" id="searchInput" placeholder="Enter Roblox username"
             style="flex: 1; background: none; border: none; outline: none; color: #fff; font-size: 1em;">
    </div>

    <button style="
      padding: 14px 22px;
      font-size: 1em;
      border: none;
      border-radius: 12px;
      background: linear-gradient(90deg, var(--bg), var(--bg));
      color: #fff;
      cursor: pointer;
      transition: background 0.3s;
    ">Search</button>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const searchInput = document.getElementById('searchInput');
  const searchButton = document.querySelector('#home button');

  searchButton.addEventListener('click', fetchRobloxUser);
  searchInput.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') fetchRobloxUser();
  });

  async function fetchRobloxUser() {
    const username = searchInput.value.trim();
    if (!username) return alert("Please enter a Roblox username");

    try {
      // 1️⃣ Lookup user by username
      const lookupResp = await fetch('https://users.roproxy.com/v1/usernames/users', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ usernames: [username], excludeBannedUsers: false })
      });
      const lookupData = await lookupResp.json();

      if (!lookupData.data || lookupData.data.length === 0 || lookupData.data[0].id === null) {
        return alert("User not found");
      }

      const user = lookupData.data[0];
      const userId = user.id;
      const userName = user.name;
      const isBanned = user.isBanned; // true if banned

      // 2️⃣ Fetch avatar with transparent background
      const avatarResp = await fetch(`https://thumbnails.roproxy.com/v1/users/avatar?userIds=${userId}&size=150x150&format=Png&isCircular=true&backgroundTransparency=true`);
      const avatarData = await avatarResp.json();

      if (!avatarData.data || avatarData.data.length === 0) {
        return alert("Could not fetch avatar");
      }

      const avatarUrl = avatarData.data[0].imageUrl;

      // 3️⃣ Display result
      let resultContainer = document.getElementById('robloxResult');
      if (!resultContainer) {
        resultContainer = document.createElement('div');
        resultContainer.id = 'robloxResult';
        resultContainer.style = `
          margin-top: 20px;
          display: flex;
          align-items: center;
          gap: 15px;
          color: white;
        `;
        document.getElementById('home').appendChild(resultContainer);
      }

      resultContainer.innerHTML = `
        <img src="${avatarUrl}" alt="Avatar" style="width: 75px; height: 75px; border-radius: 50%;">
        <div>
          <span style="font-size: 1.2em;">${userName} (ID: ${userId})</span><br>
          <span style="color: ${isBanned ? 'red' : 'lightgreen'}; font-weight: bold;">
            ${isBanned ? 'Banned' : 'Active'}
          </span>
        </div>
      `;

    } catch (err) {
      console.error("Fetch error:", err);
      alert("Error fetching Roblox user data");
    }
  }
});
</script>










  <div id="api" class="tab-content hidden"><h1></h1></div>
  <div id="pricing" class="tab-content hidden"><h1></h1></div>
</div>


<!-- REGISTER MODAL -->
<div id="registerModal" class="modal-bg">
  <div class="modal">
    <button class="close-modal" onclick="closeRegister()">×</button>
    <h2>Create Account</h2>
    <div class="input-group">
      <svg viewBox="0 0 24 24"><path d="M2 6l10 7 10-7v12H2V6zm10 3L2 6h20l-10 3z"/></svg>
      <input id="regEmail" type="email" placeholder="Email">
    </div>
    <div class="input-group">
      <svg viewBox="0 0 24 24"><path d="M12 12a5 5 0 100-10 5 5 0 000 10zm-9 9c0-4 4-7 9-7s9 3 9 7v1H3v-1z"/></svg>
      <input id="regUser" type="text" placeholder="Username">
    </div>
    <div class="input-group">
      <svg viewBox="0 0 24 24"><path d="M6 10V8a6 6 0 1112 0v2h2v12H4V10h2zm2-2a4 4 0 118 0v2H8V8z"/></svg>
      <input id="regPass" type="password" placeholder="Password">
    </div>
    <button class="submit-btn" id="registerBtn">Create Account</button>
    <div style="text-align:center; margin-top:12px; font-size:13px; color:var(--muted);">
      Already have an account?  
      <span style="color:var(--accent1); cursor:pointer;" onclick="openLoginFromRegister()">Sign in here</span>
    </div>
  </div>
</div>

<!-- LOGIN MODAL -->
<div id="loginModal" class="modal-bg">
  <div class="modal">
    <button class="close-modal" onclick="closeLogin()">×</button>
    <h2>Login</h2>
    <div class="input-group">
      <svg viewBox="0 0 24 24"><path d="M2 6l10 7 10-7v12H2V6zm10 3L2 6h20l-10 3z"/></svg>
      <input id="loginEmail" type="email" placeholder="Email">
    </div>
    <div class="input-group">
      <svg viewBox="0 0 24 24"><path d="M6 10V8a6 6 0 1112 0v2h2v12H4V10h2zm2-2a4 4 0 118 0v2H8V8z"/></svg>
      <input id="loginPass" type="password" placeholder="Password">
    </div>
    <button class="submit-btn" id="loginBtn">Login</button>
    <div style="text-align:center; margin-top:12px; font-size:13px; color:var(--muted);">
      Don't have an account?  
      <span style="color:var(--accent1); cursor:pointer;" onclick="openRegisterFromLogin()">Create one here</span>
    </div>
  </div>
</div>

<!-- POPUP -->
<div id="popupModal" class="modal-bg">
  <div class="modal">
    <h2 id="popupTitle">Notice</h2>
    <p id="popupMessage"></p>
    <button onclick="closePopup()">OK</button>
  </div>
</div>

<script>
const tabs = document.querySelectorAll('.tab');
let loggedIn = localStorage.getItem("loggedIn") === "true";
let currentUser = localStorage.getItem("currentUser") || "";
const userDisplay = document.getElementById("userDisplay");
const authButtons = document.querySelector(".auth-buttons");
const logoutBtn = document.getElementById("logoutBtn");

function updateUserDisplay(){
  if(loggedIn && currentUser){
    userDisplay.style.display="inline-block";
    logoutBtn.style.display="inline-block";
    userDisplay.innerText = currentUser;
    authButtons.style.display="none";
  } else {
    userDisplay.style.display="none";
    logoutBtn.style.display="none";
    authButtons.style.display="flex";
  }
}
updateUserDisplay();

window.onload = function() {
  if(!loggedIn){
    document.getElementById("registerModal").style.display = "flex";
  }
};

tabs.forEach(tab=>{
  tab.addEventListener('click',()=>{
    tabs.forEach(t=>t.classList.remove('active'));
    document.querySelectorAll('.tab-content').forEach(c=>c.classList.add('hidden'));
    tab.classList.add('active');
    document.getElementById(tab.dataset.tab).classList.remove('hidden');
  });
});

const regModal=document.getElementById("registerModal");
const loginModal=document.getElementById("loginModal");
document.getElementById("openRegister").onclick=()=>regModal.style.display="flex";
document.getElementById("openLogin").onclick=()=>loginModal.style.display="flex";

function closeRegister(){ regModal.style.display="none"; }
function closeLogin(){ loginModal.style.display="none"; }

function openLoginFromRegister() { closeRegister(); loginModal.style.display = "flex"; }
function openRegisterFromLogin() { closeLogin(); regModal.style.display = "flex"; }

document.getElementById("registerBtn").onclick = () => {
  let email=document.getElementById("regEmail").value.trim();
  let user=document.getElementById("regUser").value.trim();
  let pass=document.getElementById("regPass").value.trim();
  if(!email || !user || !pass){ showPopup("Error","Fill all fields"); return; }

  let accounts = JSON.parse(localStorage.getItem("cloudsecAccounts") || "[]");
  if(accounts.find(a=>a.email===email)){ showPopup("Error","Email already registered"); return; }

  accounts.push({email, username:user, password:pass});
  localStorage.setItem("cloudsecAccounts", JSON.stringify(accounts));
  showPopup("Success","Account created successfully");
  closeRegister();
};

document.getElementById("loginBtn").onclick = () => {
  let email=document.getElementById("loginEmail").value.trim();
  let pass=document.getElementById("loginPass").value.trim();
  if(!email || !pass){ showPopup("Error","Fill all fields"); return; }

  let accounts = JSON.parse(localStorage.getItem("cloudsecAccounts") || "[]");
  let userObj = accounts.find(a=>a.email===email && a.password===pass);
  if(userObj){
    loggedIn = true;
    currentUser = userObj.username;
    localStorage.setItem("loggedIn","true");
    localStorage.setItem("currentUser", currentUser);
    updateUserDisplay();
    closeLogin();
    showPopup("Welcome", `Hello, ${userObj.username} You are now logged in`);
  } else {
    showPopup("Error", "Invalid email or password");
  }
};

logoutBtn.onclick = () => {
  loggedIn = false;
  currentUser = "";
  localStorage.removeItem("loggedIn");
  localStorage.removeItem("currentUser");
  updateUserDisplay();
  showPopup("Logged Out", "You have successfully logged out");
};

function showPopup(title, message){
  document.getElementById("popupTitle").innerText = title;
  document.getElementById("popupMessage").innerText = message;
  document.getElementById("popupModal").style.display="flex";
}
function closePopup(){ document.getElementById("popupModal").style.display="none"; }

// Auto search example (just displays input text in result)
const searchInput = document.getElementById("searchInput");
const searchResult = document.getElementById("searchResult");
searchInput.addEventListener("input", () => {
  let val = searchInput.value.trim();
  searchResult.textContent = val ? `You typed: ${val}` : "";
});
</script>

</body>
</html>
